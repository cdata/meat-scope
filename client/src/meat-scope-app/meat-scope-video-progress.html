<link rel="import" href="../../bower_components/polymer/polymer.html">
<dom-module id="meat-scope-video-progress">
  <template>
    <style>
      :host {
        @apply(--layout-horizontal);
        @apply(--layout-center-center);
        width: 100%;
        height: 148px;
      }

      svg {
        transform: rotate(-90deg) scale(0.5) translateZ(0);
        overflow: visible;
      }

      circle {
        stroke-dasharray: 360;
        stroke-dashoffset: 0;
        fill: transparent;
        stroke-width: 20px;
        transition: stroke-dashoffset 0.3s;
      }

      #base {
        stroke: #00A7F7;
      }

      #progress {
        stroke: #F15092;
        stroke-dashoffset: 360;
      }
    </style>
    <svg id="svg" width="148" height="148" viewPort="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg">
      <circle
          id="base"
          r="57.29577951308232"
          cx="74"
          cy="74">
      </circle>
      <circle
          id="progress"
          r="57.29577951308232"
          cx="74"
          cy="74">
      </circle>
    </svg>
  </template>
  <script>
    Polymer({
      is: 'meat-scope-video-progress',

      properties: {
        progress: {
          type: Number,
          value: 0
        },

        total: {
          type: Number,
          value: 1
        }
      },

      observers: [
        '__updateProgress(progress, total)'
      ],

      __updateProgress: function(progress, total) {
        this.$.progress.style.strokeDashoffset = 360 - progress / total * 360;
      }
    });
  </script>
</dom-module>
